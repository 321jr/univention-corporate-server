# bash completion for univention-baseconfig
# bugs: - does not recognize options

_univention-baseconfig()
{
        file=/etc/univention/base.conf
        COMPREPLY=()
        cur=${COMP_WORDS[COMP_CWORD]}
        prev=${COMP_WORDS[COMP_CWORD-1]}

        if [ "$cur" = "" ]; then
                vars=$(grep -v \# $file | grep -v ^$ | sed "s/:.*//")
                COMPREPLY=($vars)
        else
                vars=$(grep ^$cur $file | sed "s/:.*//")
                COMPREPLY=($vars)
        fi
        return 0
}

complete -F _univention-baseconfig univention-baseconfig

