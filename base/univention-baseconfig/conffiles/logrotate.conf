# Warning: This file is auto-generated and might be overwritten by
#          univention-baseconfig.
#          Please edit the following file instead:
# Warnung: Diese Datei wurde automatisch generiert und kann durch
#          univention-baseconfig Ã¼berschrieben werden.
#          Bitte bearbeiten Sie an Stelle dessen die folgende Datei:
#
#       /etc/univention/templates/files/etc/logrotate.conf
#

# see "man logrotate" for details
# rotate log files weekly
weekly

# keep some weeks worth of backlogs
rotate @%@log/rotate/weeks@%@

# create new (empty) log files after rotating old ones
create

# uncomment this if you want your log files compressed
#compress

# packages drop log rotation information into this directory
include /etc/logrotate.d

/var/log/univention/*.log {
	weekly
	rotate @%@log/rotate/weeks@%@
	postrotate
		test -x /usr/bin/sv && test -e /etc/runit/univention/univention-ldap-listener && sv term univention-ldap-listener || true
		test -x /usr/bin/sv && test -e /etc/runit/univention/univention-ldap-notifier && sv term univention-ldap-notifier || true
		test -x /usr/bin/sv && test -e /etc/runit/univention/univention-dhcp && sv term univention-dhcp || true
		test -x /usr/bin/sv && test -e /etc/runit/univention/univention-bind && sv term univention-bind || true
		test -x /usr/bin/sv && test -e /etc/runit/univention/univention-bind-proxy && sv term univention-bind-proxy || true
	endscript
}

