# Warning: This file is auto-generated and might be overwritten by
#          univention-baseconfig.
#          Please edit the following file instead:
# Warnung: Diese Datei wurde automatisch generiert und kann durch
#          univention-baseconfig überschrieben werden.
#          Bitte bearbeiten Sie an Stelle dessen die folgende Datei:
#
#       /etc/univention/templates/files/etc/logrotate.conf
#

# see "man logrotate" for details
# rotate log files weekly
weekly

# keep some weeks worth of backlogs
rotate @%@log/rotate/weeks@%@

# create new (empty) log files after rotating old ones
create

# uncomment this if you want your log files compressed
#compress

# packages drop log rotation information into this directory
include /etc/logrotate.d

/var/log/univention/*.log {
	weekly
	rotate @%@log/rotate/weeks@%@
	postrotate
		test -d /etc/runit/univention-ldap-listener && runsvctrl term /etc/runit/univention-ldap-listener || true
		test -d /etc/runit/univention-ldap-notifier && runsvctrl term /etc/runit/univention-ldap-notifier || true
		test -d /etc/runit/univention-dhcp && runsvctrl term /etc/runit/univention-dhcp || true
	endscript
}

