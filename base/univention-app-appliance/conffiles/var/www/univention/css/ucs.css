/*
@%@UCRWARNING= * @%@
 */

@import url("ucs.real.css");
@!@
from univention.app_appliance import Apps, get_luminance

app = Apps().find(configRegistry.get('umc/web/appliance/id', ''))

# get app color values
css_background = app and app.appliance_css_background
primary_color = app and app.appliance_primary_color

if css_background and primary_color:

	# decide which font/icon colors to take
	if get_luminance(primary_color) > .5:
		font_color = '#000'
		icon_color = ''
	else:
		font_color = '#fff'
		icon_color = '-white'

	print '''
body {
	background: %(css_background)s;
}

body #header-left {
	background-image: url(/univention/js/dijit/themes/umc/images/appliance_header_logo.svg);
	background-size: auto 50%%;
}

body #header-right {
	color: %(font_color)s;
}

body #header-right .dijitArrowButtonInner {
	background-image: url(/univention/js/dijit/themes/umc/images/icons%(icon_color)s.svg);
}

body .container #title {
	color: %(font_color)s;
}

body .container #title h1 {
	border-color: %(font_color)s;
}

body .container #category-bar {
	color: %(font_color)s;
}

body .container #content {
	color: %(font_color)s;
}

body .container #content .galleryTab .umcGalleryItem .umcGalleryName {
	color: %(font_color)s;
}

body .container #content .galleryTab .umcGalleryItem .umcGalleryDescription {
	color: %(font_color)s;
}

body #footer ul a {
	color: %(font_color)s;
}

body #footer ul a:hover {
	color: %(font_color)s;
}

body #footer ul li {
	border-color: %(font_color)s;
}

body .container a {
	color: %(font_color)s;
}

body .container a:hover {
	color: %(font_color)s;
}
''' % {
	'font_color': font_color,
	'icon_color': icon_color,
	'css_background': css_background
}
@!@
