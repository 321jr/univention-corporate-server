<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	%extensions;
	<!ENTITY % entities SYSTEM "../stylesheets/macros-en.ent" >
	%entities;
]>
<chapter id="relnotes:changelog" lang="en">
	<title>Changelog</title>
	<section id="changelog:general">
		<title>General</title>
		<itemizedlist>
			<listitem>
				<para>
					All security updates issued for UCS <productnumber>4.4-4</productnumber> are included:
				</para>
				<itemizedlist id="_security">
					<listitem><simpara>
						<package>apt</package> (<u:cve>2020-3810</u:cve>) (<u:bug>51305</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>bind9</package> (<u:cve>2020-8616</u:cve> <u:cve>2020-8617</u:cve>) (<u:bug>51347</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>bluez</package> (<u:cve>2020-0556</u:cve>) (<u:bug>51037</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>exim4</package> (<u:cve>2020-12783</u:cve>) (<u:bug>51304</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>firefox-esr</package> (<u:cve>2020-6819</u:cve> <u:cve>2020-6820</u:cve> <u:cve>2020-6821</u:cve> <u:cve>2020-6822</u:cve> <u:cve>2020-6825</u:cve> <u:cve>2020-6831</u:cve> <u:cve>2020-12387</u:cve> <u:cve>2020-12392</u:cve> <u:cve>2020-12395</u:cve> <u:cve>2020-12399</u:cve> <u:cve>2020-12405</u:cve> <u:cve>2020-12406</u:cve> <u:cve>2020-12410</u:cve> <u:cve>2020-12417</u:cve> <u:cve>2020-12418</u:cve> <u:cve>2020-12419</u:cve> <u:cve>2020-12420</u:cve> <u:cve>2020-12421</u:cve>) (<u:bug>51083</u:bug> <u:bug>51265</u:bug> <u:bug>51453</u:bug> <u:bug>51615</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>git</package> (<u:cve>2020-5260</u:cve> <u:cve>2020-11008</u:cve>) (<u:bug>51117</u:bug> <u:bug>51170</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>icu</package> (<u:cve>2020-10531</u:cve>) (<u:bug>51038</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>imagemagick</package> (<u:cve>2019-13300</u:cve> <u:cve>2019-13304</u:cve> <u:cve>2019-13306</u:cve> <u:cve>2019-13307</u:cve> <u:cve>2019-15140</u:cve> <u:cve>2019-19948</u:cve>) (<u:bug>51616</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>intel-microcode</package> (<u:cve>2020-0543</u:cve> <u:cve>2020-0548</u:cve> <u:cve>2020-0549</u:cve>) (<u:bug>51491</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>ldb</package> (<u:cve>2020-10700</u:cve>) (<u:bug>51121</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>libpam-krb5</package> (<u:cve>2020-10595</u:cve>) (<u:bug>51051</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>linux</package> (<u:cve>2019-2182</u:cve> <u:cve>2019-5108</u:cve> <u:cve>2019-19319</u:cve> <u:cve>2019-19462</u:cve> <u:cve>2019-19768</u:cve> <u:cve>2019-20806</u:cve> <u:cve>2019-20811</u:cve> <u:cve>2020-0543</u:cve> <u:cve>2020-2732</u:cve> <u:cve>2020-8428</u:cve> <u:cve>2020-8647</u:cve> <u:cve>2020-8648</u:cve> <u:cve>2020-8649</u:cve> <u:cve>2020-9383</u:cve> <u:cve>2020-10711</u:cve> <u:cve>2020-10732</u:cve> <u:cve>2020-10751</u:cve> <u:cve>2020-10757</u:cve> <u:cve>2020-10942</u:cve> <u:cve>2020-11494</u:cve> <u:cve>2020-11565</u:cve> <u:cve>2020-11608</u:cve> <u:cve>2020-11609</u:cve> <u:cve>2020-11668</u:cve> <u:cve>2020-12114</u:cve> <u:cve>2020-12464</u:cve> <u:cve>2020-12652</u:cve> <u:cve>2020-12653</u:cve> <u:cve>2020-12654</u:cve> <u:cve>2020-12770</u:cve> <u:cve>2020-13143</u:cve>) (<u:bug>51490</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>openjdk-8</package> (<u:cve>2020-2754</u:cve> <u:cve>2020-2755</u:cve> <u:cve>2020-2756</u:cve> <u:cve>2020-2757</u:cve> <u:cve>2020-2773</u:cve> <u:cve>2020-2781</u:cve> <u:cve>2020-2800</u:cve> <u:cve>2020-2803</u:cve> <u:cve>2020-2805</u:cve>) (<u:bug>51206</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>openldap</package> (<u:cve>2020-12243</u:cve>) (<u:bug>51183</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>php7.0</package> (<u:cve>2019-11048</u:cve> <u:cve>2020-7062</u:cve> <u:cve>2020-7063</u:cve> <u:cve>2020-7064</u:cve> <u:cve>2020-7066</u:cve> <u:cve>2020-7067</u:cve>) (<u:bug>51617</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>python-django</package> (<u:cve>2020-13254</u:cve> <u:cve>2020-13596</u:cve>) (<u:bug>51543</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>python-reportlab</package> (<u:cve>2019-17626</u:cve>) (<u:bug>51171</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>samba</package> (<u:cve>2020-10700</u:cve> <u:cve>2020-10704</u:cve> <u:cve>2020-10730</u:cve> <u:cve>2020-10745</u:cve> <u:cve>2020-10760</u:cve> <u:cve>2020-14303</u:cve>) (<u:bug>51121</u:bug> <u:bug>51532</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>tiff</package> (<u:cve>2018-12900</u:cve> <u:cve>2018-17000</u:cve> <u:cve>2018-17100</u:cve> <u:cve>2018-19210</u:cve> <u:cve>2019-7663</u:cve> <u:cve>2019-14973</u:cve> <u:cve>2019-17546</u:cve>) (<u:bug>51204</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>univention-kernel-image-signed</package> (<u:cve>2019-2182</u:cve> <u:cve>2019-5108</u:cve> <u:cve>2019-19319</u:cve> <u:cve>2019-19462</u:cve> <u:cve>2019-19768</u:cve> <u:cve>2019-20806</u:cve> <u:cve>2019-20811</u:cve> <u:cve>2020-0543</u:cve> <u:cve>2020-2732</u:cve> <u:cve>2020-8428</u:cve> <u:cve>2020-8647</u:cve> <u:cve>2020-8648</u:cve> <u:cve>2020-8649</u:cve> <u:cve>2020-9383</u:cve> <u:cve>2020-10711</u:cve> <u:cve>2020-10732</u:cve> <u:cve>2020-10751</u:cve> <u:cve>2020-10757</u:cve> <u:cve>2020-10942</u:cve> <u:cve>2020-11494</u:cve> <u:cve>2020-11565</u:cve> <u:cve>2020-11608</u:cve> <u:cve>2020-11609</u:cve> <u:cve>2020-11668</u:cve> <u:cve>2020-12114</u:cve> <u:cve>2020-12464</u:cve> <u:cve>2020-12652</u:cve> <u:cve>2020-12653</u:cve> <u:cve>2020-12654</u:cve> <u:cve>2020-12770</u:cve> <u:cve>2020-13143</u:cve>) (<u:bug>51490</u:bug>)
					</simpara></listitem>
					<listitem><simpara>
						<package>vlc</package> (<u:bug>51205</u:bug> <u:bug>51544</u:bug>)
					</simpara></listitem>
				</itemizedlist>
			</listitem>
			<listitem>
				<para>
					The following updated packages from Debian Stretch <productnumber>9.12</productnumber> are included (<u:bug>51554</u:bug>):
					<simplelist type="inline" id="_debian">
						<member><package>mailman</package></member>
						<member><package>mutt</package></member>
						<member><package>mysql-connector-java</package></member>
						<member><package>netqmail</package></member>
						<member><package>qbittorrent</package></member>
						<member><package>roundcube</package></member>
						<member><package>salt</package></member>
						<member><package>thunderbird</package></member>
						<member><package>tomcat8</package></member>
						<member><package>wordpress</package></member>
					</simplelist>
				</para>
			</listitem>
			<listitem>
				<para>
					The following packages have been moved to the maintained repository of UCS:
					<simplelist type="inline" id="_maintained">
						<member><package>univention-debhelper</package> (<u:bug>51374</u:bug>)</member>
					</simplelist>
				</para>
			</listitem>
		</itemizedlist>
	</section>

	<section id="changelog:basic">
		<title>Basic system services</title>

		<section id="changelog:basis:ucr">
			<title>Univention Configuration Registry</title>
			<itemizedlist>
				<listitem><simpara>
					Move `univention.debhelper` into a separate package to break a build dependency cycle (<u:bug>51374</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Fix Python 3 interfaces API to use `ipaddress` from the standard library instead of the legacy `ipaddr` module no longer available in Debian 10 Buster (<u:bug>51368</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Python 3 compatibility has been improved (<u:bug>51156</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Python absolute imports are now used in univention.config_registy.interfaces for Python 3 compatibility (<u:bug>51021</u:bug>).
				</simpara></listitem>
			</itemizedlist>

			<section id="changelog:basis:ucr:template">
				<title>Changes to templates and modules</title>
				<itemizedlist>
					<listitem><simpara>
						The UCR templates of univention-base-files have been adapted to be python2 and python3 compatible (<u:bug>51006</u:bug>).
					</simpara></listitem>
				</itemizedlist>
			</section>
		</section>
	</section>

	<section id="changelog:domain">
		<title>Domain services</title>

		<section id="changelog:domain:openldap">
			<title>OpenLDAP</title>
			<section id="changelog:domain:openldap:replication">
				<title>Listener/Notifier domain replication</title>
				<itemizedlist>
					<listitem><simpara>
						To speed up replication of large LDAP objects, performance inhibiting code for logging will only be executed at the respective debug level (<u:bug>51236</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Due to a race condition, the `memberOf` attribute of user objects could have been incomplete on domaincontroller backup and domaincontroller slave systems. This problem has now been fixed. To get all user objects back in sync, the script /usr/share/univention-ldap-overlay-memberof/univention-update-memberof should be called once on every UCS domaincontroller (<u:bug>46590</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Do incremental updates for attribute `uniqueMember` of groups: Changes trigger the slapd overlay module `memberof`, which then needs to update all users of the group. This is inefficient with MOD_REPLACE as the overlay then has to walk over all users instead of only the added/removed users. During the walk each user object is touched and triggers a sub-transaction in OpenDLAP. With slow disks this even can lead to TIMEOUT errors as the LDAP connection is closed after 5 minutes by default (<u:bug>48545</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Internal change: the UCR templates of are now python3-compatible (<u:bug>51093</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Fix exception logging in corner cases (<u:bug>51061</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Internal change: the UCR templates of univention-directory-notifier are now python3-compatible (<u:bug>51091</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						Internal change: the UCR templates of univention-directory-listener are now python3-compatible (<u:bug>51087</u:bug>).
					</simpara></listitem>
				</itemizedlist>
			</section>
		</section>

		<section id="changelog:domain:dnsserver">
			<title>DNS server</title>
			<itemizedlist>
				<listitem><simpara>
					Added a warning to the description of the UCR variable "dns/backend" not to use "ldap" on UCS domain controller systems running Samba4 (<u:bug>50501</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-bind are now python3-compatible (<u:bug>51102</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The start of the LDAP server has a timeout value to prevent deadlocks and allow monitoring solutions to log failed start attempts. That value was made configurable, because the necessary time depends on the number of domains. The variable is called dns/timeout-start (<u:bug>50662</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:umc">
		<title>Univention Management Console</title>

		<section id="changelog:umc:web">
			<title>Univention Management Console web interface</title>
			<itemizedlist>
				<listitem><simpara>
					Some preparations for future development have been made (<u:bug>51220</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					It is now possible to navigate to an UMC module without the overview of all UMC modules and have only that UMC module open. This can be achieved for example with: https://fqdn/univention/management/?overview=no#module=top (<u:bug>51185</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The styling for menu entries has been slightly adjusted (<u:bug>51180</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The error messages in input fields were sometimes not immediately shown. This problem has been addressed (<u:bug>51067</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-directory-manager-rest are now python3-compatible (<u:bug>51090</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					After an automatic password rotation, configurable via UCR variable `server/password/interval`, the UDM REST API refused to deliver an `openapi.json` file and disallows further logins (<u:bug>50708</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:portal">
			<title>Univention Portal</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-server-overview are now python3-compatible (<u:bug>51100</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Users in the portal live edit mode are now able to see categories without any entries (<u:bug>50688</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Apache template is now correctly updated when changing the UCR variable ucs/server/sso/fqdn (<u:bug>51211</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-portal are now python3-compatible (<u:bug>51099</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:server">
			<title>Univention Management Console server</title>
			<itemizedlist>
				<listitem><simpara>
					LDAP connections in the session shutdown handling and during retrieval of user favorite modules are now closed properly (<u:bug>51367</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					LDAP connections in the PAM handling are now closed after the authentication was performed (<u:bug>51366</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The UMC-Webserver is now Python 3 compatible (<u:bug>51353</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The UMC-Server components are now Python 3 compatible (<u:bug>51235</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Some preparations for the upcoming "Univention Portal" app have been made (<u:bug>51226</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Content-Security-Policy for UMC and its login dialog is now configurable via the umc/http/content-security-policy/.* and umc/login/content-security-policy/.* UCR variables. The X-Frame-Options default header has been replaced with the Content-Security-Policy frame-ancestor setting (<u:bug>51211</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					It is now possible to navigate to an UMC module without the overview of all UMC modules and have only that UMC module open. This can be achieved for example with: https://fqdn/univention/management/?overview=no#module=top (<u:bug>51185</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Users can now request the deletion of their account on the "Your profile" page of the Self Service. This feature can be activated via the umc/self-service/account-deregistration/enabled UCR variable (<u:bug>51110</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The meta.json now contains more variables for the self service pages (<u:bug>51001</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-management-console are now python3-compatible (<u:bug>51098</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The self service now has an option that allows anonymous users to create self registered accounts. The feature is disabled by default (<u:bug>51067</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:appcenter">
			<title>Univention App Center</title>
			<itemizedlist>
				<listitem><simpara>
					The App Center now mounts /etc/apt/apt.conf.d/80proxy from the UCS host read-only to the container with the name /etc/apt/apt.conf.d/81proxy (<u:bug>51034</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-appcenter are now python3-compatible (<u:bug>51101</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Support for udp ports in docker compose file has been added (<u:bug>51069</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:udmcli">
			<title>&ucsUDM; UMC modules and command line interface</title>
			<itemizedlist>
				<listitem><simpara>
					The Simple UDM API did not return an advanced list of DNs if the attribute was not set at all. It merely returned an empty list, which could lead to errors. This has been fixed (<u:bug>51184</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal improvement: Remove excessive log trace information from UDM modules method `__getitem__()` (<u:bug>51193</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					SambaBadPasswordTime, the timestamp that is created when a user gets locked, can have a different time format than expected by udm when created by Samba3. This led to tracebacks in udm and rejects in the AD-Connector. Udm can handle this time format now (<u:bug>49697</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-directory-manager-modules are now python3-compatible (<u:bug>51089</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					When initializing a module with a template, if the template has no options set, the defaults for the module options are kept instead of setting them all to true (<u:bug>51002</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:setup">
			<title>Modules for system settings / setup wizard</title>
			<itemizedlist>
				<listitem><simpara>
					Proxy settings configured in Univention System Setup are now used for http and https connections. They are applied to the Univention Configuration Registry variables proxy/http and proxy/https. Previously, only proxy/http was used (<u:bug>50613</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					During the setup use sha-512 for the root password (<u:bug>51195</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Some unused code has been removed (<u:bug>51185</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-system-setup are now python3-compatible (<u:bug>51025</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:join">
			<title>Domain join module</title>
			<itemizedlist>
				<listitem><simpara>
					The dependency on the Admin diary package has been moved to `Recommends` to make it optional. Otherwise there is a circular package dependency between `univention-join` and `univention-admin-diary`, which leads to undesired behaviour (<u:bug>51374</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-join are now python3-compatible (<u:bug>51095</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Restart univention-directory-listener on package update (<u:bug>51532</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Rebuild with new ABI Version 1.5.8 for the samba update (<u:bug>51532</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Rebuild for new ldb library version (<u:bug>51121</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:reports">
			<title>Univention Directory Reports</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-directory-reports are now python3-compatible (<u:bug>51095</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:license">
			<title>License module</title>
			<itemizedlist>
				<listitem><simpara>
					The previous package update in errata 619 caused the system activation to not work. The apache2 configuration is fixed with this update (<u:bug>51420</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The package now uses `dh_python2` instead of `python-support` (<u:bug>51373</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-system-activation are now python3-compatible (<u:bug>51024</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:diagnostic">
			<title>System diagnostic module</title>
			<itemizedlist>
				<listitem><simpara>
					Permissions for /etc/freeradius/ssl are now also checked by the diagnostics module. Permissions for that path should be 2755 (<u:bug>50887</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:quota">
			<title>Filesystem quota module</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-quota are now python3-compatible (<u:bug>51010</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:other">
			<title>Other modules</title>
			<itemizedlist>
				<listitem><simpara>
					It is now possible to assign the Portal Settings module to users and groups via UMC policies (<u:bug>50688</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:development">
			<title>Development of modules for &ucsUMC;</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: The UMC module of univention-management-console-module-lib is now python3-compatible (<u:bug>51325</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:lib">
		<title>Univention base libraries</title>
		<itemizedlist>
			<listitem><simpara>
				Internal improvement: Remove excessive log trace information from uldap methods `__getstate__()`, `__setstate__()` and `parentDn()` (<u:bug>51193</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The randomization mechanism during LDAP connection setup has been further improved so that it now prefers local LDAP servers over external LDAP servers (<u:bug>51182</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-ldap are now python3-compatible (<u:bug>51029</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The univention.lib Python modules are now Python 3 compatible (<u:bug>51592</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:deployment">
		<title>Software deployment</title>
		<itemizedlist>
			<listitem><simpara>
				Internal change: the UCR templates of univention-maintenance are now python3-compatible (<u:bug>51020</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Fix regression caused by erratum 605 to validate signatures of `preup.sh` and `postup.sh` scripts (<u:bug>51576</u:bug>).
			</simpara></listitem>
		</itemizedlist>

		<section id="changelog:deployment:pkgdb">
			<title>Software monitor</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-pkgdb are now python3-compatible (<u:bug>51139</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:service">
		<title>System services</title>

		<section id="changelog:service:postgresql">
			<title>PostgreSQL</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-postgresql are now python3-compatible (<u:bug>51112</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:mysql">
			<title>MySQL and MariaDB</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-mariadb are now python3-compatible (<u:bug>51137</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:docker">
			<title>Docker</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-docker-container-mode are now python3-compatible (<u:bug>51132</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					In /etc/systemd/system/docker.service.d/http-proxy.conf the ucr var proxy/no_proxy is considered for the docker proxy settings (<u:bug>51031</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates univention-docker of are now python3-compatible (<u:bug>51132</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:saml">
			<title>SAML</title>
			<itemizedlist>
				<listitem><simpara>
					It is now possible to activate SAML service provider for groups, not only for individual users (<u:bug>47567</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Content-Security-Policy is now configurable via the saml/apache2/content-security-policy/. UCR variables (<u:bug>51211</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The self service can now be set up to allow users to create their own account (see also Bug #51067). For this new feature the SAML identity provider has been adapted, to be configurable to deny login for unverified, self registered accounts (<u:bug>51068</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The configuration of SAML identity providers has been extended by the possibility to configure an attribute mapping for the LDAPattributes required by the Service providers (<u:bug>48927</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:selfservice">
			<title>Univention self service</title>
			<itemizedlist>
				<listitem><simpara>
					Nested groups are now correctly evaluated for Self Service white- and blacklists (<u:bug>51261</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The 'Forgot your password?' link on the login page was not shown by default anymore (<u:bug>51533</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Blacklists and whitelists for editing a user profile via the "Your profile" page of the Self Service and deleting an account via the "Delete my account" button on the "Your profile" page are no longer configured via the umc/self-service/passwordreset/{blacklist,whitelist}/{users,groups} UCR variables but the umc/self-service/profiledata/{blacklist,whitelist}/{users,groups} and umc/self-service/account-deregistration/{...} UCR variables respectively (<u:bug>51259</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Self Service links in the hamburger menu are no longer visible if the corresponding Self Service page was disabled via UCR (<u:bug>51351</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Content-Security-Policy is now configurable via the umc/self-service/content-security-policy/.* UCR variables (<u:bug>51211</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					When requesting a new token, do not disclose the email address of the user (<u:bug>51152</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Users can now request the deletion of their account on the "Your profile" page of the Self Service. This feature can be activated via the umc/self-service/account-deregistration/enabled UCR variable (<u:bug>51110</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Added UCR variables to enable admins to switch off all pages (and backend functions) individually (<u:bug>51001</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The self service now has an option that allows anonymous users to create self registered accounts. The feature is disabled by default (<u:bug>51067</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:mail">
			<title>Mail services</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-fetchmail are now python3-compatible (<u:bug>51148</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-antivir-mail are now python3-compatible (<u:bug>51149</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:dovecot">
			<title>Dovecot</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-mail-dovecot are now python3-compatible (<u:bug>51147</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:postfix">
			<title>Postfix</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-postgrey are now python3-compatible (<u:bug>51146</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-mail-postfix are now python3-compatible (<u:bug>51151</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:virus">
			<title>Spam/virus detection and countermeasures</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-dansguardian are now python3-compatible (<u:bug>51144</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:print">
			<title>Printing services</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-printquota are now python3-compatible (<u:bug>51140</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					A shell quoting error in the cups-printer listener module has been corrected which prevented the creation of printers for certain ACLs (<u:bug>51196</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-printserver are now python3-compatible (<u:bug>51129</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:nagios">
			<title>Nagios</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of are univention-snmpd now python3-compatible (<u:bug>51143</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-nagios are now python3-compatible (<u:bug>51214</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:apache">
			<title>Apache</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-apache are now python3-compatible (<u:bug>51077</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:radius">
			<title>RADIUS</title>
			<itemizedlist>
				<listitem><simpara>
					Permissions for directory /etc/freeradius/ssl are now set during installation by join-script 80univention-radius. Permissions are also set via postinst script univention- radius.postinst (<u:bug>50887</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-radius are now python3-compatible (<u:bug>51130</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:proxy">
			<title>Proxy services</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-squid are now python3-compatible (<u:bug>51133</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:kerberos">
			<title>Kerberos</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-heimdal are now python3-compatible (<u:bug>51016</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:ssl">
			<title>SSL</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-ssl are now python3-compatible (<u:bug>51022</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:dhcp">
			<title>DHCP server</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-dhcp are now python3-compatible (<u:bug>51136</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:pam">
			<title>PAM / Local group cache</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-sasl are now python3-compatible (<u:bug>51142</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-pam are now python3-compatible (<u:bug>51224</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-pam are now python3-compatible (<u:bug>51027</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:nfs">
			<title>NFS</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-nfs are now python3-compatible (<u:bug>51138</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:other">
			<title>Other services</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-firewall are now python3-compatible (<u:bug>51035</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:desktop">
		<title>Desktop</title>
		<itemizedlist>
			<listitem><simpara>
				Internal change: the UCR templates of univention-kdm are now python3-compatible (<u:bug>51218</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:virt">
		<title>Virtualization</title>

		<section id="changelog:virt:uvmm">
			<title>UCS Virtual Machine Manager (UVMM)</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-virtual-machine-manager-daemon are now python3-compatible (<u:bug>51215</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-virtual-machine-manager-node are now python3-compatible (<u:bug>51215</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-virtual-machine-manager-schema are now python3-compatible (<u:bug>51215</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:virt:operation">
			<title>Operate UCS as virtual machine</title>
			<itemizedlist>
				<listitem><simpara>
					Internal change: the UCR templates of univention-cloud-init are now python3-compatible (<u:bug>51135</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:win">
		<title>Services for Windows</title>

		<section id="changelog:win:samba">
			<title>Samba</title>
			<itemizedlist>
				<listitem><simpara>
					A python syntax error has been removed in the UCR configuration file /etc/samba/base.conf (<u:bug>51212</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-samba are now python3-compatible (<u:bug>51131</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-samba4 are now python3-compatible (<u:bug>51131</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Rebuild with new ABI Version 1.5.8 for the samba update (<u:bug>51532</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:win:s4c">
			<title>Univention S4 Connector</title>
			<itemizedlist>
				<listitem><simpara>
					 (<u:bug>51298</u:bug>, <u:bug>51462</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-s4-connector are now python3-compatible (<u:bug>51159</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:win:adc">
			<title>Univention Active Directory Connection</title>
			<itemizedlist>
				<listitem><simpara>
					The synchronisation of the pwdChangeNextLogin flag only worked if the password was resetted at the same time. This behavior has been fixed (<u:bug>51585</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Fix UCS to AD Diff-Mode synchronization from the OpenLDAP attributes telephoneNumber, homePhone, mobilePhone and pager to the MS AD attributes otherTelephone, otherHomePhone, otherMobile and otherPager (<u:bug>51567</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Log the active mapping on startup (<u:bug>51518</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Basic profiling support via UCR connector/ad/poll/profiling (<u:bug>51518</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Ignore changes to a list of irrelevant attributes. The list can be extended via a new UCR variable connector/ad/mapping/attributes/irrelevant (<u:bug>18501</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The Diff-Mode synchronization technique originally implemented for the S4-Connector has been merged to the AD-Connector. This affects the replication of multivalue attribute values such that only added and removed attribute values are modified on the destination system, but values unchanged on the source of replication are also unchanged on the destination. Before this update, all values of an attribute changed in the source LDAP got replaced in the destination LDAP. Please note that there is no change in the replication of group memberships, because they already have been replicated in Diff-Mode before (<u:bug>51462</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The flag pwdChangeNextLogin is now synced bidirectionally by the adconnector (<u:bug>51298</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Internal change: the UCR templates of univention-ad-connector are now python3-compatible (<u:bug>51160</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:other">
		<title>Other changes</title>
		<itemizedlist>
			<listitem><simpara>
				When authenticating with an expired password via pam-krb5, heimdal prompted for a password change, which led to the password being overwritten with the old password. This behaviour has been fixed (<u:bug>51462</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				univention-directory-logger is now able to prefix related log lines with the same transaction ID. This new feature is automaticaly enabled on fresh installations of univention-directory-logger but remains disabled during updates. Set ldap/logging/id-prefix=yes to enable this feature manually (<u:bug>51082</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Add new PGP public key univention-archive-key-ucs-5x.gpg for UCS-5 and remove expired key univention-archive-key-ucs-3x.gpg from UCS-3 (<u:bug>51250</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-mozilla-firefox are now python3-compatible (<u:bug>51218</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-initrd are now python3-compatible (<u:bug>51019</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-kde are now python3-compatible (<u:bug>51218</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-spamassassin are now python3-compatible (<u:bug>51145</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of are now python3-compatible (<u:bug>51086</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-directory-policy are now python3-compatible (<u:bug>51092</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates are now python3-compatible (<u:bug>51088</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-sudo are now python3-compatible (<u:bug>51023</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Check for usage of `debian/*.pyinstall` files to install Python modules (<u:bug>51106</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Check users of `custom_{user,group}name()` registering for required UCR variables (<u:bug>50056</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Check for packages declaring dependencies on `Essential:yes` packages (<u:bug>51476</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Check for usage of `uldap.searchDn()` (<u:bug>51375</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				`ucslint` has been removed as a direct dependency from all UCS packages as it now runs directly from our CI pipeline (<u:bug>42294</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Debian maintainer script `debian/*.{pre,post}{inst,rm}` are now checked for handling wrong actions (<u:bug>43981</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Un-join-script files are now checked for errors, too (<u:bug>48747</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The `debian/changelog` file is checked for strict-monotonic entries. In the past this has lead to surprising update results as the timestamp of the latest entry is used for many things during the package build (<u:bug>49620</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				`debian/*.ucs files are checked more strictly due to the switch to Python 3. For example duplicate keys are now errors (<u:bug>49683</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				New `debhelper` related files in `debian/` are recognized (<u:bug>51246</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				`debian/*.dirs` is now checked for un-needed entries which are already created indirectly by other steps (<u:bug>51247</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				`debian/compat` is now checked for consistency with the declared versioned build dependency of `debhelper` in `debian/control` (<u:bug>51248</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				UCS templates are checked for compatibility with Python 2 and 3 (<u:bug>51107</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Invalid Python string literals are now detected (<u:bug>51105</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The code base has been converted to Python 3 (<u:bug>49704</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-passwd-store are now python3-compatible (<u:bug>51008</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-x-core are now python3-compatible (<u:bug>51218</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Python 3 compatibility for the UMC debhelper scripts has been added (<u:bug>51235</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Do not set UCR variables `ldap/overlay/memberof/` before system is joined (<u:bug>47641</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-ldap-overlay-memberof are now python3-compatible (<u:bug>51096</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Modified the 'Change password' menu entry for future feature release compatibility (<u:bug>51181</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-printclient are now python3-compatible (<u:bug>51009</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-grub are now python3-compatible (<u:bug>51018</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-directory-manager-module-example are now python3-compatible (<u:bug>51216</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-admin-diary are now python3-compatible (<u:bug>51134</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-server are now python3-compatible (<u:bug>51011</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Internal change: the UCR templates of univention-network-manager are now python3-compatible (<u:bug>51021</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>
</chapter>
<!-- vim: set ts=4 sw=4 noet: -->
