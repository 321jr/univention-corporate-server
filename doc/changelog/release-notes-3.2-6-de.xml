<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	<!ENTITY bibliography SYSTEM "../stylesheets/bibliography-de.xml">
	%extensions;
	%entities;
]>
<book lang="de" id="releasenotes-3.2-6-de">
	<bookinfo>
		<title>UCS 3.2-6 Release Notes</title>
		<subtitle>Release Notes für die Inbetriebnahme und Aktualisierung von &ucsUCS; (UCS) 3.2-6</subtitle>
		<revhistory>
			<revision>
				<revnumber>3.2-6</revnumber>
				<date>26 Mai 2015</date>
			</revision>
		</revhistory>

		<legalnotice lang="">
			<para>
				Alle Rechte vorbehalten. / All rights reserved.
			</para>

			<para>
				(c) 2002-2015 Univention GmbH
			</para>

			<para>
				Mary-Somerville-Straße 1, 28359 Bremen, Deutschland/Germany
			</para>

			<para>
				<email>feedback@univention.de</email>
			</para>

			<para lang="de">
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>

			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="relnotes:highlights">
		<title>&ucsUCS; (UCS) 3.2-6</title>

		<para>
			Mit &ucsUCS; 3.2-6 steht das sechste Point-Release für &ucsUCS; (UCS) zur Verfügung.
			Vorhandene UCS-Systeme können über das von Univention bereitgestellte Online-Repository aktualisiert werden.
			Alternativ können Updates über eine Update-DVD eingespielt werden.
			Für Neuinstallationen stehen UCS 3.2-6 ISO-Images zur Verfügung.
			UCS 3.2-6 beinhaltet alle für UCS 3.2-5 veröffentlichten Errata-Updates.
			Die wichtigsten Änderungen im Überblick:
		</para>

		<itemizedlist>
			<listitem><para>
					Das Release enthält diverse Sicherheitsupdates, die in den letzten Wochen und Monaten für UCS 3.2-5 als Errata Updates veröffentlicht wurden.
					U.a. enthalten sind Pakete für den <package>Linux Kernel</package>, <package>OpenSSL</package>, <package>glibc</package>, <package>sudo</package>.
			</para></listitem>
			<listitem><para>
					Diverse Tools aus dem PAM Stack unterstützen nun die Konfiguration von mehreren LDAP Servern.
					Das erhöht die Ausfallsicherheit.
			</para></listitem>
			<listitem><para>
					In großen Umgebungen wurde die Login Performance verbessert:
					Aufwendige Quota Abfragen wurden dazu aus dem Login Prozess ausgelagert.
			</para></listitem>
			<listitem><para>
					Sofern UCS die Netzwerkeinstellungen via <systemitem class="service">DHCP</systemitem> bezieht, werden nun weitere Parameter ausgewertet, wie bspw. Informationen zum Routing.
			</para></listitem>
		</itemizedlist>
	</chapter>

	<chapter id="relnotes:order">
		<title>Empfohlene Update-Reihenfolge für Umgebungen mit mehr als einem UCS-Server</title>

		<para>
			In Umgebungen mit mehr als einem UCS-System muss die Update-Reihenfolge der UCS-Systeme beachtet werden:
		</para>

		<para>
			Auf dem &ucsMaster; wird die maßgebliche (authoritative) Version des LDAP-Verzeichnisdienstes vorgehalten, die an alle übrigen LDAP-Server der UCS-Domäne repliziert wird.
			Da bei Release-Updates Veränderungen an den LDAP-Schemata auftreten können, muss der &ucsMaster; bei einem Release-Update immer als erstes System aktualisiert werden.
		</para>

		<para>
			Generell ist es empfehlenswert, alle UCS-Systeme möglichst in einem Wartungsfenster zu aktualisieren.
		</para>
	</chapter>

	<chapter id="relnotes:prepare">
		<title>Vorbereitung des Updates</title>

		<para>
			Es sollte geprüft werden, ob ausreichend Festplattenplatz verfügbar ist.
			Eine Standard-Installation benötigt min. 6 GB Speicherplatz.
			Das Update benötigt je nach Umfang der vorhanden Installation mindestens 1 GB weiteren Speicherplatz zum Herunterladen und Installieren der Pakete.
		</para>

		<para>
			Für das Update sollte eine Anmeldung auf der lokalen Konsole des Systems mit dem Benutzer <systemitem class="username">root</systemitem> durchgeführt und das Update dort gestartet werden.
			Alternativ kann das Update über &ucsUMC; durchgeführt werden.
		</para>

		<para>
			Eine Remote-Aktualisierung über SSH wird nicht empfohlen, da dies beispielsweise bei Unterbrechung der Netzverbindung zum Abbruch des Update-Vorgangs und zu einer Beeinträchtigung des Systems führen kann.
			Sollte dennoch eine Aktualisierung über eine Netzverbindung durchgeführt werden, ist sicherzustellen, dass das Update bei Unterbrechung der Netzverbindung trotzdem weiterläuft.
			Hierfür können beispielsweise die Tools <command>screen</command> oder <command>at</command> eingesetzt werden, die auf allen Systemrollen installiert sind.
		</para>
	</chapter>

	<chapter id="relnotes:post">
		<title>Nachbereitung des Updates</title>

		<para>
			Nach dem Update müssen die neuen oder aktualisierten Join-Skripte ausgeführt werden.
			Dies kann auf zwei Wegen erfolgen:
			Entweder über das UMC-Modul <guimenu>Domänenbeitritt</guimenu> oder durch Aufruf des Befehls <command>univention-run-join-scripts</command> als Benutzer <systemitem class="username">root</systemitem>.
		</para>

		<para>
			Anschließend muss das UCS-System neu gestartet werden.
		</para>

		<section id="repo:verify">
			<title>Betrieb eines lokalen Repository-Servers / Preup- und Postup-Skripte</title>
			<para>
				Preup- und Postup-Skripte sind Skripte, die vor und nach Release-Updates aufgerufen werden
				(z.B. zur Nachbereitung des Updates, etwa die Deinstallation nicht mehr benötigter Pakete).
				Ab UCS 3.2 werden diese Skripte kryptographisch signiert, um eine unerlaubte Modifikation zu verhindern.
				Beim Update und Spiegeln der Repository werden diese Signaturen überprüft.
				Sind diese ungültig oder fehlen, so wird die Aktion abgebrochen.
			</para>

			<para>
				Wird ein Repository-Server mit UCS 3.1-x betrieben, muss dieser auf UCS 3.2 aktualisiert werden, bevor weitere Systeme auf UCS 3.2-1 oder neuer aktualisiert werden können.
			</para>

			<para>
				Wenn ein Update des Repository-Servers nicht möglich ist, müssen die Dateien mit den Signaturen manuell heruntergeladen werden:
			</para>

			<programlisting language="sh">
LOCAL_DIR="/var/lib/univention-repository/mirror"
SERVER="http://updates.software-univention.de"
for release in 3.2-0 3.2-1 3.2-2 3.2-3 3.2-4 3.2-5 3.2-6; do
	for script in preup postup; do
		file="3.2/maintained/$release/all/$script.sh.gpg"
		wget -O "$LOCAL_DIR/$file" "$SERVER/$file"
	done
done
			</programlisting>

			<para>
				Alternativ kann die Prüfung der Signaturen auch deaktiviert werden, was ein Sicherheitsrisiko darstellen kann.
				Für den Repository-Server kann dazu die &ucsUCRV; <envar>repository/mirror/verify</envar> auf <literal>false</literal> gesetzt werden.
				Für das Update muss auf allen Systemen die &ucsUCRV; <envar>repository/online/verify</envar> auf <literal>false</literal> gesetzt werden.
			</para>
		</section>
	</chapter>


	<chapter id="relnotes:packages">
		<title>Hinweise zum Einsatz einzelner Pakete</title>

		<section id="relnotes:usage">
			<title>Erfassung von Nutzungsstatistiken bei Verwendung der <phrase>Free-For-Personal-Use</phrase>-Version</title>
			<para>
				Bei Verwendung der <phrase>Free for personal use</phrase>-Version von UCS (die in der Regel für Evaluationen von UCS herangezogen wird) werden anonyme Nutzungsstatistiken zur Verwendung der &ucsUMC; erzeugt.
				Die aufgerufenen Module werden dabei von einer Instanz des Web-Traffic-Analyse-Tools Piwik protokolliert.
				Dies ermöglicht es Univention die Entwicklung von &ucsUMC; besser auf das Kundeninteresse zuzuschneiden und Usability-Verbesserungen vorzunehmen.
			</para>
			<para>
				Diese Protokollierung erfolgt nur bei Verwendung der <phrase>Free-for-Personal-Use-Lizenz</phrase>.
				Der Lizenzstatus kann durch einen Klick auf das Zahnrad-Symbol in der rechten, oberen Ecke der &ucsUMC; und die Auswahl von <guimenu>Lizenzinformationen</guimenu> geprüft werden.
				Steht hier unter <guimenu>Lizenztyp</guimenu> <guimenu>Free for personal use edition</guimenu> wird eine solche Version verwendet.
				Bei Einsatz einer regulären UCS-Lizenz erfolgt keine Teilnahme an der Nutzungsstatistik.
			</para>
			<para>
				Die Protokollierung kann unabhängig von der verwendeten Lizenz durch Setzen der &ucsUCRV; <envar>umc/web/piwik</envar> auf <literal>false</literal> deaktiviert werden.
			</para>
		</section>

		<section id="relnotes:uefi">
			<title>UEFI-Installations-DVD</title>
			<para>
				Für die Architektur <emphasis>amd64</emphasis> steht neben der Standard-Installations-DVD auch ein Medium mit Unterstützung für den Unified Extensible Firmware Interface-Standard (<acronym>UEFI</acronym>) bereit.
			</para>

			<para>
				Auf Systemen, die nur einen UEFI-Start unterstützen, muss die UEFI-Installations-DVD anstelle der Standard-DVD verwendet werden.
			</para>
		</section>

		<section id="relnotes:secbrowsers">
			<title>Umfang des Sicherheits-Supports von WebKit, Konqueror und QtWebKit</title>
			<para>
				WebKit, Konqueror und QtWebKit werden in UCS im maintained-Zweig des Repositorys mitgeliefert, aber nicht durch Sicherheits-Updates unterstützt.
				WebKit wird vor allem für die Darstellung von HTML-Hilfeseiten u.ä. verwendet.
				Als Web-Browser sollte Firefox eingesetzt werden.
			</para>
		</section>

		<section id="relnotes:browsers">
			<title>Empfohlene Browser für den Zugriff auf Univention Management Console</title>

			<para>
				&ucsUMC; verwendet für die Darstellung der Web-Oberfläche zahlreiche JavaScript- und CSS-Funktionen.
				Cookies müssen im Browser zugelassen sein.
				Die folgenden Browser werden empfohlen:
			</para>

			<itemizedlist>
				<listitem>
					<para>Chrome ab Version 14</para>
				</listitem>

				<listitem>
					<para>Firefox ab Version 10</para>
				</listitem>

				<listitem>
					<para>Internet Explorer ab Version 9 </para>
				</listitem>

				<listitem>
					<para>Safari (auf dem iPad 2)</para>
				</listitem>
			</itemizedlist>

			<para>
				Auf älteren Browsern können Darstellungs- oder Performanceprobleme auftreten.
			</para>
		</section>

		<section id="relnotes:s4limits">
			<title>Einschränkungen im Samba 4-Betrieb</title>
			<para>
				In Samba 4 stehen einige Funktionen des <wordasword>Active-Directory</wordasword> nicht vollständig zur Verfügung:
			</para>

			<itemizedlist>
				<listitem>
					<para>
						Microsoft Windows Domänencontroller dürfen nicht einer Samba 4-Domäne beitreten und umgekehrt.
					</para>
				</listitem>

				<listitem>
					<para>
						Eine selektive Replikation ist mit Samba 4 nicht möglich, da diese durch Active Directory prinzipiell nicht unterstützt wird (in UCS@school basiert die selektive Replikation auf der Listener/Notifier-Replikation).
					</para>
				</listitem>

				<listitem>
					<para>
						Samba 4 unterstützt keine Forest-Domänen.
					</para>
				</listitem>

				<listitem>
					<para>
						Samba 4 unterstützt keine Vertrauensstellungen.
					</para>
				</listitem>
			</itemizedlist>

			<para>
				Weitere Hinweise finden sich in Kapitel 8 des <biblioref linkend="ucs-handbuch"/>.
			</para>
		</section>

		<section id="relnotes:virtualbox">
			<title>Installation in <wordasword>VirtualBox</wordasword></title>
			<para>
				Bei der Installation von UCS in der Virtualisierungslösung <wordasword>VirtualBox</wordasword> vor Version 4.2 kann folgender <wordasword>VirtualBox</wordasword>-Bug auftreten:
				Wenn von der Installations-DVD gebootet wird, bietet GRUB die Option <guimenu>Boot from first harddisk partition</guimenu> an.
				Wählt man diese Option aus, friert <wordasword>VirtualBox</wordasword> ein.
			</para>

			<para>
				Zur Abhilfe muss vor dem Neustart der virtuellen Maschine entweder die Installations-DVD aus den Laufwerkseinstellungen der <wordasword>VirtualBox</wordasword>-VM entfernt werden oder beim Start der virtuellen Instanz <keycap>F12</keycap> gedrückt und die Festplatte als Bootpartition ausgewählt werden.
				UCS startet danach dann problemlos.
			</para>
		</section>

		<section id="relnotes:xenserver">
			<title>Installation in <wordasword>Citrix XenServer</wordasword></title>
			<para>
				Bei der Installation von UCS in der Virtualisierungslösung <wordasword>Citrix XenServer 6.0 - 6.2</wordasword> wird mit der standardmässig emulierten <wordasword>Cirrus</wordasword>-Grafikkarte das GRUB-Menü des Univention Installers nicht angezeigt.
				Der Univention Installer kann durch Drücken der <keycap function="enter">ENTER</keycap>-Taste direkt gestartet werden;
				alternativ startet die Installation automatisch nach sechzig Sekunden.
				Der dann gestartete Univention Installer wird normal dargestellt.
			</para>

			<para>
				Um GRUB korrekt darzustellen, kann die von <wordasword>XenServer</wordasword> emulierte Grafikkarte umkonfiguriert werden.
				Dazu muss eine Anmeldung als Benutzer <systemitem class="username">root</systemitem> auf dem <wordasword>XenServer</wordasword>-System folgen.
				Mit dem Befehl <command>xe vm-list</command> muss zuerst die UUID der virtuellen Maschine ermittelt werden.
				Mit dem folgenden Befehl wird dann die emulierte Grafikkarte auf VGA umkonfiguriert:

				<programlisting language="sh">
xe vm-param-set uuid=UUIDVM platform:vga=std
				</programlisting>
			</para>
		</section>

		<section id="relnotes:s3tos4">
			<title>Migration einer Samba 3-Umgebung auf Samba 4</title>
			<para>
				Es existieren zwei grundlegende Verfahren zur Migration von Samba 3 auf Samba 4:
			</para>

			<itemizedlist>
				<listitem>
					<para>
						Aufbau einer parallelen Samba 4-Domäne.
						Beide Domänen verwenden unterschiedliche NetBIOS-Namen und SIDs.
						Die Clients treten dann schrittweise der Samba 4-Domäne bei.
					</para>
				</listitem>

				<listitem>
					<para>
						Migration aller Systeme innerhalb eines Wartungsfensters.
					</para>
				</listitem>
			</itemizedlist>

			<para>
				Beide Verfahren sind im Univention Wiki ausführlich dokumentiert:
				<ulink url="http://wiki.univention.de/index.php?title=Migration_from_Samba_3_to_Samba_4"/>.
			</para>
		</section>

		<section id="relnotes:xenhopt">
			<title>Xen</title>
			<para>
				Wenn der Xen Hypervisor benutzt wird und das Speicherlimit über die &ucsUCR;-Variable <envar>grub/xenhopt</envar> begrenzt wurde, sollte der Wert aktualisiert und um die <emphasis>,max:</emphasis>-Angabe erweitert werden.
				Weitere Details finden sich unter <ulink url="http://wiki.univention.de/index.php?title=UVMM_Quickstart-3.1#Konfiguration_der_Dom0"/>.
			</para>
		</section>
	</chapter>

	<chapter id="relnotes:changelog">
		<title>Changelog</title>
		<para>
			Die Changelogs mit den detaillierten Änderungsinformationen werden nur in Englisch gepflegt.
			Aufgeführt sind die Änderungen seit UCS 3.2-5:
		</para>

		<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="changelog-3.2-6.xml" xpointer="xpointer(/chapter/section)"/>
	</chapter>

	<bibliography id="relnotes:bibliography">
		<bibliomixed id="ucs-handbuch"/>
	</bibliography>

	<?dbhtml-include href="../stylesheets/piwik.html"?>
</book>
<!-- vim: set ts=4 sw=4 noet: -->
