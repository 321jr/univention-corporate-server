<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE chapter  PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	%extensions;
	<!ENTITY % entities SYSTEM "../stylesheets/macros-en.ent" >
	%entities;
]>
<chapter id="relnotes:changelog" lang="en">
	<title>Changelog</title>
	<section id="changelog:general">
		<title>General</title>
		<itemizedlist>
			<listitem><simpara>
				The codename for UCS 4.2 has been set to <wordasword>Lesum</wordasword> (<u:bug>42054</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:installer">
		<title>Univention Installer</title>
		<itemizedlist>
			<listitem><simpara>
			</simpara></listitem>
		</itemizedlist>
	</section>


	<section id="changelog:basic">
		<title>Basic system services</title>

		<section id="changelog:basic:kernel">
			<title>Linux kernel and firmware packages</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:basis:ucr">
			<title>Univention Configuration Registry</title>
			<itemizedlist>
				<listitem><simpara>
					The maximum transfer unit (<acronym>MTU</acronym>) for network interfaces can now be configured through the new &ucsUCRV; <envar>interfaces/<replaceable>interface</replaceable>/mtu</envar> (<u:bug>35814</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The functions <function>remove_ucr_template</function> and <function>remove_ucr_info_file</function> from the shell library <filename>ucr.sh</filename> have been deprecated.
					The library itself was moved into the package <package>univention-config</package> (<u:bug>27872</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					<command>ucr update</command> is now automatically called when &ucsUCR; template files are added/modified/removed (<u:bug>23737</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					&ucsUCR; now loads its data atomically to fix a problem when multiple threads access the database concurrently (<u:bug>37402</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The robustness of the services module has been improved to better handle process changes (<u:bug>34234</u:bug>).
				</simpara></listitem>
			</itemizedlist>

			<section id="changelog:basis:ucr:template">
				<title>Changes to templates and modules</title>
				<itemizedlist>
					<listitem><simpara>
					</simpara></listitem>
				</itemizedlist>
			</section>
		</section>

		<section id="changelog:basis:boot">
			<title>Boot Loader</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:basis:other">
			<title>Other system services</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:domain">
		<title>Domain services</title>

		<section id="changelog:domain:openldap">
			<title>OpenLDAP</title>
			<itemizedlist>
				<listitem><simpara>
					The overlay module <filename>shadowbind</filename> has been added. This module checks
					<property>shadowExpire</property> and <property>shadowMax</property>/<property>shadowLastChange</property> of the bind DN object
					and denies the login if the account or the password is expired.
					The overlay can be enabled/disabled with the &ucsUCRV;
					<envar>ldap/shadowbind</envar>. An ignore LDAP filter (<filename>shadowbind</filename>
					does not check account/password expiry if the bind DN object
					matches this filter) can be configured with the &ucsUCRV;
					<envar>ldap/shadowbind/ignorefilter</envar> (<u:bug>36215</u:bug>).
				</simpara></listitem>
			</itemizedlist>

			<section id="changelog:domain:openldap:acl">
				<title>LDAP ACL changes</title>
				<itemizedlist>
					<listitem><simpara>
						The configuration <property>add_content_acl</property> has been enabled (<u:bug>41797</u:bug>).
					</simpara></listitem>
					<listitem><simpara>
						The overlay module <property>constraint</property> has been enabled.
						Security restrictions for the attributes <property>uidNumber</property> and <property>gidNumber</property> has been added (<u:bug>43312</u:bug>).
					</simpara></listitem>
				</itemizedlist>
			</section>

			<section id="changelog:domain:openldap:schema">
				<title>LDAP schema changes</title>
				<itemizedlist>
					<listitem><simpara>
					</simpara></listitem>
				</itemizedlist>
			</section>

			<section id="changelog:domain:openldap:replication">
				<title>Listener/Notifier domain replication</title>
				<itemizedlist>
					<listitem><simpara>
						Kerberos support was removed from the Listener (<u:bug>42678</u:bug>).
					</simpara></listitem>
				</itemizedlist>
			</section>

			<section id="changelog:domain:dnsserver">
				<title>DNS server</title>
				<itemizedlist>
					<listitem><simpara>
					</simpara></listitem>
				</itemizedlist>
			</section>
		</section>
	</section>

	<section id="changelog:umc">
		<title>Univention Management Console</title>

		<section id="changelog:umc:web">
			<title>Univention Management Console web interface</title>
			<itemizedlist>
				<listitem><simpara>
						Improved internationalization for JavaScript files in UMC (<u:bug>42293</u:bug>)..
				</simpara></listitem>
				<listitem><simpara>
						The correct service name is shown when the start behavior is configured through the &ucsUCRV; <envar>umc/http/autostart</envar> (<u:bug>42340</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Various security improvements have been done to guard against Cross Site Request Forgery (XSRF), Cross Site Scripting (XSS) and Clickjacking attacks.
					The HTTP response header <property>X-Frame-Options</property>, <property>Content-Security-Policy</property>, <property>X-Content-Type-Options</property>, <property>X-XSS-Protection</property> and <property>X-Permitted-Cross-Domain-Policies</property> are now set by default (<u:bug>39733</u:bug>, <u:bug>39731</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:server">
			<title>Univention Management Console server</title>
			<itemizedlist>
				<listitem><simpara>
						The correct service name is shown when the start behavior is configured through the &ucsUCRV; <envar>umc/server/autostart</envar> (<u:bug>42339</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:appcenter">
			<title>Univention App Center</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:udmcli">
			<title>&ucsUDM; UMC modules and command line interface</title>
			<itemizedlist>
				<listitem><simpara>
					The existence of objects is now checked before initializing it (<u:bug>38110</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The UDM specific JavaScript widget <function>LinkList</function> has been moved to <package>univention-management-console-module-udm</package> from <package>univention-management-console-frontend</package> (<u:bug>42321</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:setup">
			<title>Modules for system settings / setup wizard</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:update">
			<title>Software update module</title>
			<itemizedlist>
				<listitem><simpara>
					Illegal characters don't cause a crash when viewing the logfile anymore (<u:bug>41539</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:join">
			<title>Domain join module</title>
			<itemizedlist>
				<listitem><simpara>
					The "execute pending join scripts" button is now grayed out if no unconfigured join scripts exists (<u:bug>35326</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Illegal characters don't cause a crash when viewing the logfile anymore (<u:bug>41539</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:user">
			<title>Users module</title>
			<itemizedlist>
				<listitem><simpara>
					Templates used when creating new users now work for all properties regardless (<u:bug>43428</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The layout of user templates has been synchronized with the layout of the users modules (<u:bug>42765</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Some broken mappings of user templates have been fixed (<u:bug>29672</u:bug>).

				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:reports">
			<title>Univention Directory Reports</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:computers">
			<title>Computers module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:dns">
			<title>DNS module</title>
			<itemizedlist>
				<listitem><simpara>
					The help and example for the DNS reverse zone subnet property has been improved  (<u:bug>34131</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					The description for the negative time-to-live property has been corrected (<u:bug>33165</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Long descriptions have been added to all DNS module properties (<u:bug>42820</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					DNS names are now checked for validity according to <u:rfc>2181</u:rfc>.
					PTR entries are now shown in forward notation as IP addresses and can be searched for (<u:bug>25354</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:dhcp">
			<title>DHCP module</title>
			<itemizedlist>
				<listitem><simpara>
					The DHCP modules now validate the input fields better and require a valid IP address or host name to be entered (<u:bug>33211</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Long descriptions have been added to all DHCP module properties (<u:bug>42820</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Listing policies for DHCP host entries now works with multiple DHCP services and for entries with none or multiple IP addresses (<u:bug>42849</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Support for dynamic address assignment using pools for known hosts has been improved <u:bug>16923</u:bug>.
				</simpara></listitem>
				<listitem><simpara>
					A memory leak has been fixed.
					A crash during startup if the LDAP server was unreachable has been fixed (<u:bug>31078</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					DHCP options and DHCP statements can now be configured via &ucsUMC; (<u:bug>32557</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:license">
			<title>License module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:top">
			<title>Process overview module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:share">
			<title>Shares module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:policy">
			<title>Policies</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:printer">
			<title>Printers module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:mail">
			<title>Mail</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:quota">
			<title>Filesystem quota module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:ucr">
			<title>Univention Configuration Registry module</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:ldap">
			<title>LDAP directory browser</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:other">
			<title>Other modules</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:umc:development">
			<title>Development of modules for &ucsUMC;</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>


	<section id="changelog:deployment">
		<title>Software deployment</title>
		<itemizedlist>
			<listitem><simpara>
			</simpara></listitem>
		</itemizedlist>

		<section id="changelog:deployment:pkgdb">
			<title>Software monitor</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:deployment:cli">
			<title>Software deployment command line tools</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>


	<section id="changelog:lib">
		<title>Univention base libraries</title>
		<itemizedlist>
			<listitem><simpara>
			</simpara></listitem>
		</itemizedlist>
	</section>


	<section id="changelog:service">
		<title>System services</title>

		<section id="changelog:service:saml">
			<title>SAML</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:selfservice">
			<title>Univention self service</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:mail">
			<title>Mail services</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:virus">
			<title>Spam/virus detection and countermeasures</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:print">
			<title>Printing services</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:nagios">
			<title>Nagios</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:kerberos">
			<title>Kerberos</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:ssl">
			<title>SSL</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:proxy">
			<title>Proxy services</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:systeminfo">
			<title>Univention System Info</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:apache">
			<title>Apache</title>
			<itemizedlist>
				<listitem><simpara>
					Apache configuration files from <package>univention-apache</package> have been adapted
					to apache version 2.4 (<u:bug>42196</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:pam">
			<title>PAM / Local group cache</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:service:other">
			<title>Other services</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>


	<section id="changelog:virt">
		<title>Virtualization</title>

		<section id="changelog:virt:uvmm">
			<title>Univention Virtual Machine Manager (UVMM)</title>
			<itemizedlist>
				<listitem><simpara>
					Error handling has been improved (<u:bug>38634</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:virt:operation">
			<title>Operate UCS as virtual machine</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>


	<section id="changelog:container">
		<title>Container Technologies</title>
			<itemizedlist>
				<listitem><simpara>
					Docker has been updated to 1.12 (<u:bug>42282</u:bug>).
				</simpara></listitem>
			</itemizedlist>
	</section>


	<section id="changelog:win">
		<title>Services for Windows</title>
		<section id="changelog:win:samba">
			<title>Samba</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
				<listitem><simpara>
					Samba has been updated to version 4.5.0
					(<u:bug>40661</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					<package>univention-samba4</package> has been adjusted
					to flush caches during initial install before committing
					the SYSVOL ACLs (<u:bug>41319</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:win:takeover">
			<title>Univention AD Takeover</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:win:s4c">
			<title>Univention S4 Connector</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>

		<section id="changelog:win:adc">
			<title>Univention Active Directory Connection</title>
			<itemizedlist>
				<listitem><simpara>
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>


	<section id="changelog:other">
		<title>Other changes</title>
		<itemizedlist>
			<listitem><simpara>
				All packages have been updated to no longer depend on deprecated packages and features (<u:bug>42183</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<command>ucslint</command> check for missing quoting in function local variable assignments (<u:bug>41926</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<command>ucslint</command> checks Debian maintainer scripts for wrong comments naming a different maintainer script (<u:bug>32539</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<command>ucslint</command> warns of dependencies on transitional packages (<u:bug>37203</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<command>ucslint</command> checks were added to the build process of some packages (<u:bug>23837</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<command>ucslint</command> skips checking some generated files (<u:bug>43284</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The service <systemitem class="service">portmap</systemitem> was renamed to <systemitem class="service">rpcbind</systemitem> (<u:bug>36571</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The init scripts of all services have been made <orgname>Linux Standard Base</orgname> (<acronym>LSB</acronym>) compliant to allow <command>insserv</command> to automatically reorder them based on dependencies (<u:bug>38438</u:bug>).
				The test for <command>insserv</command> has been remove (<u:bug>43306</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The &ucsUCRV; <envar>version/erratalevel</envar> gets reset to <literal>0</literal> (<u:bug>43300</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Renaming and moving objects into names containing a comma is now possible (<u:bug>43332</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The generation of the maintenance script to remove obsolete files form a local repository has been fixed:
				It no longer removes the cryptographic signatures of the updater scripts and <filename class="directory">dists/</filename> directories required for network installation (<u:bug>39582</u:bug>).
				It also uses the correct path to remove obsolete packages (<u:bug>28048</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				<methodname>unbind()</methodname> methods have been added to the classes <classname>univention.uldap</classname> and <classname>univention.admin.uldap</classname> (<u:bug>37519</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The class <classname>univention.lib.umc_connection.UMCConnection</classname> has been replaced with the new and more flexible class <classname>univention.lib.umc.Client</classname> (<u:bug>34498</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				The following packages have been backported and built in order to update to the newer docker version:
				<package>golang</package>, <package>containerd</package>, <package>golang-1.6</package>, <package>runc</package>,
				<package>golang-codegangsta-cli</package>, <package>golang-github-coreos-go-systemd</package>,
				<package>golang-github-docker-go-units</package>, <package>golang-github-opencontainers-specs</package>,
				<package>golang-github-seccomp-libseccomp-golang</package>, <package>golang-github-vishvananda-netlink</package>,
				<package>dh-golang</package>, <package>golang-dbus</package>, <package>golang-github-xeipuuv-gojsonschema</package>,
				<package>golang-testify</package>, <package>golang-github-xeipuuv-gojsonreference</package>,
				<package>golang-github-xeipuuv-gojsonpointer</package>, <package>golang-github-davecgh-go-spew</package>,
				<package>golang-github-pmezard-go-difflib</package>, <package>libseccomp</package>,
				<package>golang-github-vishvananda-netns</package>, <package>golang-objx</package> (<u:bug>42282</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>
</chapter>
<!-- vim: set ts=4 sw=4 noet: -->
