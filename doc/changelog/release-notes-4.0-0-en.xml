<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
          "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [

  <!ENTITY % entities SYSTEM "../stylesheets/macros-en.ent" >
  <!ENTITY bibliography SYSTEM "../stylesheets/bibliography-en.xml">
  <!ENTITY changelog SYSTEM "changelog-4.0-0.xml">

  %entities;
]>
<book lang="en" id="releasenotes-4.0-0-en">
	<bookinfo>
		<title>UCS 4.0-0 Release Notes</title>
		<subtitle>Release notes for the installation and update of &ucsUCS; (UCS) 4.0-0</subtitle>
		<revhistory>
			<revision>
				<revnumber>4.0-0</revnumber>
				<date> November 2014</date>
			</revision>
		</revhistory>

		<legalnotice>
			<para>
				Alle Rechte vorbehalten. / All rights reserved.
			</para>

			<para>
				(c) 2002-2014 Univention GmbH
			</para>

			<para>
				Mary-Somerville-Straße 1, 28359 Bremen, Deutschland/Germany
			</para>

			<para>
				<ulink url="mailto:feedback@univention.de">feedback@univention.de</ulink>
			</para>

			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>

			<para>
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="relnotes:highlights">
		<title>Release highlights</title>

		<para>
		  With &ucsUCS; 4.0-0, the fourth major release of &ucsUCS; (UCS) is now available.
		  It provides several substantial feature improvements and extensions and various
		  improvements and bugfixes. An overview of the most important changes:
		</para>

		<itemizedlist>
		  <listitem><para>
			The design and the usability of the graphical administration interface &ucsUMC; were
			completely revamped. By using a responsive design the &ucsUMC; provides improved
			compatibility to tablets and smartphones.
		  </para></listitem>

		  <listitem><para>
			In addition to local virtualization servers the UCS Virtual Machine Manger (UVMM) can
			now also manage OpenStack or Amazon EC2 environments. This allows the setup of hybrid cloud
			scenarios.
		  </para></listitem>

		  <listitem><para>
			UCS 4.0 is based on Debian GNU/Linux 7.7 (Wheezy). More than 16,000 source packages were
			updated. Selected core components, e.g. OpenLDAP (2.4.40), Samba (4.2rc2) or the
			Linux kernel (3.16) are more recent in UCS compared to Debian GNU/Linux 7.7.
		  </para></listitem>

		  <listitem><para>
			The installation of UCS has been simplified. The base installation is based on the
			Debian installer and finalised using a web-based configuration system. The same system
			is also used for the manual configuration of cloud images or other appliances.
		  </para></listitem>

		  <listitem><para>
			The performance of the OpenLDAP directory service has been significantly improved. By
			default the memory-mapped storage backend (mdb) is now used.
		  </para></listitem>

		  <listitem><para>
			The management of applications in the UCS domain has been simplified through a
			centralised App Center. This allows the installation of applications in the entire
			domain from a single system.
		  </para></listitem>

		  <listitem><para>
			UCS now also supports the installation on systems using UEFI SecureBoot.
		  </para></listitem>
		</itemizedlist>
	</chapter>

	<chapter id="relnotes:update">
		<title>Notes on the update</title>
		<para>
		  During the update some services in the domain may not be available, i.e. the update should
		  occur in a maintenance window. It is recommended to test the update in a separate test
		  environment prior to the actual update. The test environment should be identical to the
		  production environment. Depending on the system performance, network connection and the
		  installed software the update takes between 30 minutes and several hours.
		</para>

		<section id="relnotes:order">
		  <title>Recommended update order for environments with more than one UCS server</title>
		  <para>
			In environments with more than one UCS system, the update order of the UCS systems must
			be borne in mind:
		  </para>

		  <para>
			The authoritative version of the LDAP directory service is maintained on the &ucsMaster;
			and replicated on all the remaining LDAP servers of the UCS domain. As changes to the
			LDAP schemes can occur during release updates, the &ucsMaster; must always be the first
			system to be updated during a release update.
		  </para>
		</section>

		<section id="relnotes:mix">
		  <title>Mixed operation with older UCS installations</title>
		  <para>
			UCS 4.0 supports mixed operation with UCS 3.2-4 systems, i.e. not all systems must be
			updated in one maintenance windows. Mixed operation with older UCS versions such as
			UCS 3.1 is not supported.
		  </para>
		</section>

		<section id="relnotes:apps">
		  <title>Univention App Center</title>
		  <para>
			If applications have been installed from the Univention App Center, the update can only
			be performed once all installed applications are available in a compatible
			version. Some applications are updated to newer versions during the update. If an
			application is not yet available in a compatible version, the release date can be
			obtained from the application vendor.
		  </para>

		  <para>
			If &ucsUCC; 1.0 is in use and the update to &ucsUCC; 2.0 should be performed at a later
			time, the update to the latest available b&ucsUCC; 1.0 version should be made before
			updating to UCS 4.0:

			<programlisting>
eval "$(ucr shell version/version version/patchlevel)"
univention-add-app ucc_20140115
univention-upgrade \-\-updateto $version_version-$version_patchlevel
			</programlisting>

			A detailed overview of the changes can be found in the UCC 1.0 rev3 release notes:
			<ulink url="http://download.univention.de/doc/release-notes-ucc-1.0-rev3.pdf"/>.
		  </para>
		</section>

		<section id="relnotes:samba">
		  <title>Deprecation of Windows NT domain controller functionality</title>
		  <para>
			The use of Windows NT domain services - as traditionally provided by Samba 3 - is no
			longer recommended with UCS 4.0. Windows NT domain services can no longer be selected
			during the installation of UCS and in the Univention App Center. We recommend the
			migration to the Active Directory domain services provided by Samba 4. The migration is
			documented in the Univention Wiki:
			<ulink url="http://wiki.univention.de/index.php?title=Migration_from_Samba_3_to_Samba_4"/>.
		  </para>
		</section>

		<section id="relnotes:32bit">
			<title>UCS installation DVDs only available for 64 bit</title>
			<para>
			  Starting with UCS 4.0 UCS installation DVDs are only provided for the x86 64 bit
			  architecture (amd64). Existing 32 bit UCS 3 systems can still be updated to UCS 4.0 through the
			  online repository or by using update DVDs. The 32 bit architectur will be supported
			  over the entire UCS 4 maintenance.
			</para>
		</section>
	</chapter>

	<chapter id="relnotes:prepare">
		<title>Preparation of update</title>

		<para>
		  It must be checked whether sufficient disk space is available. A standard installation
		  requires a minimum of 6 GB of disk space. Depending on the scope of the existing installation,
		  the update will require about another 4 GB of disk space for the downloading and
		  installation of the packages.
		</para>

		<para>
		  For the update, a login should be performed on the console with the
		  <emphasis>root</emphasis> user and then the update started there. Alternatively, the
		  update can be initiated using the &ucsUMC;.
		</para>

		<para>
		  Remote updating via SSH is not recommended as this may result in the update procedure
		  being cancelled if the network connection is interrupted, for example, and this can affect
		  the system. If updating should occur over a network connection nevertheless, it must be
		  verified that the update continues despite disconnection from the network. This can be
		  done, for example, using the tools <command>screen</command> and <command>at</command>,
		  which are installed on all system roles.
		</para>

		<section id="relnotes:removed">
		  <title>Removed/unspported Components</title>
		  <para>
			Some components have been removed and are not shipped any longer with UCS 4.0:
		  </para>

		  <itemizedlist>
			<listitem>
			  <para>
				The <application>Xen</application> hypervisor has been removed and is no longer supported in
				the UCS Virtual Machine Manager. The migration to <application>KVM</application> is
				described in <xref linkend="ext-doc-uvmm"/>.
			  </para>
			</listitem>

			<listitem>
			  <para>
				The Scalix LDAP schema has been removed in UCS 4.0. All Scalix-specific attributes
				need to be removed from the LDAP directory before updating.
			  </para>
			</listitem>

			<listitem>
			  <para>
				<application>PostgreSQL 8.3</application> is no longer provided in UCS 4.0. The
				migration of the databases to PostgreSQL 8.4 is described in <ulink
				url="http://sdb.univention.de/1249">SDB article 1249</ulink>.
			  </para>
			</listitem>

			<listitem>
			  <para>
				<application>Cyrus 2.2</application> is no longer provided in UCS 4.0. The migration
				of the mail spool to Cyrus 2.4 is described in <ulink
				url="http://sdb.univention.de/1213">SDB article 1213</ulink>.
			  </para>
			</listitem>
		  </itemizedlist>
		</section>

	</chapter>

	<chapter id="relnotes:post">
		<title>Postprocessing of the update</title>

		<para>
		  Following the update, new or updated join scripts need to be executed. This can be done in
		  two ways: Either using the UMC module  <guimenu>Domain join</guimenu> or by running the
		  command <command>univention-run-join-scripts</command> as the user
		  <emphasis>root</emphasis>.
		</para>
<!-- TODO: translate
		<para>
			Wenn die Applikation <emphasis>Management-Server für KVM und Cloud-Instanzen</emphasis>
			zusammen mit KVM Virtualisierungsservern vor dem Update in der Domäne betrieben wurden,
			müssen die mit dem Update hinzugekommenen Profile für virtuelle Maschinen mit UCS-4.0
			angepasst werden. Wenn das Bridge-Interface auf den KVM Servern nicht <emphasis>br0</emphasis>
			ist, sollte das Profil entsprechend der Beschreibung in <xref linkend="ucs-uvmm-profile"/> angepasst werden.
		</para>
-->
		<para>
		  Subsequently the UCS system should be restarted.
		</para>

	</chapter>

	<chapter id="relnotes:packages">
	  <title>Further notes on selected packages</title>

	  <section id="relnotes:instprofil">
		<title>Network-based installation of UCS</title>
		<para>
		  The profile-based UCS network installation is not yet available in UCS 4.0-0. It will be
		  provided at a later date. Please refer to our issue tracker for further details:
		  <ulink url="&ucsbug;35537">Bug 35537</ulink>.
		</para>
	  </section>

	  <section id="relnotes:usage">
		<title>Collection of usage statistics</title>
		<para>
		  Anonymous usage statistics on the use of the &ucsUMC; are collected when using the
		  <emphasis>free for personal use</emphasis> version of UCS (which is generally used for
		  evaluating UCS). The modules opened are logged in an instance of the web traffic analysis
		  tool Piwik. This makes it possible for Univention to tailor the development of the
		  &ucsUMC; better to customer needs and carry out usability improvements.
		</para>
		
		<para>
		  This logging is only performed when the free-for-personal-use license is used. The license
		  status can be verified by clicking on the cog symbol in the top righthand corner of the
		  &ucsUMC; and selecting <guimenu>License information</guimenu>. If <emphasis>Free for personal use
		  edition</emphasis> is listed under <guimenu>LDAP base</guimenu>, this version is in
		  use. When a regular UCS license is used, no usage statistics are collected.
		</para>
		
		<para>
		  Indendepent of the licence used, the statistics generation can be deactivated by setting
		  the &ucsUCR; variable <envar>umc/web/piwik</envar> to <emphasis>false</emphasis>.
		</para>
	  </section>

	  <section id="relnotes:secbrowsers">
		<title>Scope of security support for Webkit, Konqueror und QtWebKit</title>
		<para>
		  Webkit, Konqueror and QtWebkit are shipped in the maintained branch of the UCS repository,
		  but not covered with security support. Webkit is primarily used for displaying HTML help
		  pages etc. Firefox should be used as the web browser.
		</para>
		
	  </section>

	  <section id="relnotes:browsers">
		<title>Recommeded browsers for the access to the Univention Management Console</title>

		<para>
		  &ucsUMC; uses numerous Javascript and CSS functions to display the web interface. Cookies
		  need to be permitted in the browser. The following browsers are recommended:
		</para>

		<itemizedlist>
		  <listitem>
			<para>Chrome as of version 33</para>
		  </listitem>

		  <listitem>
			<para>Firefox as of version 24</para>
		  </listitem>
		  
		  <listitem>
			<para>Internet Explorer as of version 9</para>
		  </listitem>
		  
		  <listitem>
			<para>Safari and Safari Mobile as of version 7</para>
		  </listitem>
		</itemizedlist>

		<para>
		  Users with older browsers may experience display or performance problems.
		</para>
	  </section>

	  <section id="relnotes:ldap_bind_lockout">
		<title>Automatic account lockout</title>
		<para>
		  On domain controllers using the MDB LDAP backend (e.g. systems installed with UCS 4.0)
		  automatic account lockout can be activated in cases of repeated LDAP authentication
		  failures. The activation is described in the SDB article
		  <ulink url="http://sdb.univention.de/1291"/>.
		</para>
	  </section>

	</chapter>

	<chapter id="relnotes:changelog">
		<title>Changelog</title>
		<para>
		  Listed are the changes since UCS 3.2-4:
		</para>

		&changelog;
	</chapter>

	<bibliography id="relnotes:bibliography">
		<bibliomixed id="ucs-handbuch"/>
		<bibliomixed id="ext-doc-uvmm"/>
		<bibliomixed id="ucs-uvmm-profile"/>
	</bibliography>

	<?dbhtml-include href="../stylesheets/piwik.html"?>
</book>
