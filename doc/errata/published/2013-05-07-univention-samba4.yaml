product: ucs
release: "3.1"
scope: ucs_3.1-0-errata3.1-1
src: univention-samba4
fix: 2.0.44-18.455.201305291905
note:
version: [1]
desc: |
  This errata update fixes several bugs in the package univention-samba4:
  * Joining into a new samba4/join/site without Samba4 on the Master now
    repects the chosen samba4/dc.
  * Join into a new samba4/join/site without Samba4 on the master failed.
    Now the chosen samba4/dc is respected also in this case.
  * The sysvol-sync.py script did not preserve timestamps, now it does.
  * The sysvol-cleanup.py script moved the PolicyDefinitions away.
    Now it only deals with Policies/{* paths.
  * Periodic refresh of sysvol fACLs for the group "Authenticated Users" can
    now be disabled with the new UCR variable samba4/sysvol/sync/setfacl/AU.
  * Samba4 DCs are now added to the group Enterprise Domain Controllers
    by default during initial join.
  * The listener module samba4-idmap now also works in case smb.conf includes
    files readable only for root. This was observed in some UCS@school setups.
    In case "Unable to load file" is found in /var/log/univention/listener.log
    and users report a denial of access to their home share, the following
    command can be run on each DC where the problem is found:
    /usr/lib/univention-directory-listener/system/samba4-idmap.py \
        --direct-resync
bug: [30792, 30823, 31186, 31271, 31437, 31538]
