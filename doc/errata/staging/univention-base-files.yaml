product: ucs
release: "4.1"
version: [3,4]
scope: ucs_4.1-0-errata4.1-4
src: univention-base-files
fix: 5.0.1-6.222.201612051558
desc: |
 This update addresses the following issues:
 * The syslog configuration has been extended to allow logging to remote
   hosts. Several protocols are supported:
    UDP: fast, but messages can get lost or get dropped in congested networks.
    TCP: more reliable, but can block the sending syslog daemon.
    RELP: reliable, but non standard; can also block the syslog daemon.
   Sending must be enabled explicitly. For this the new UCR variables
   'syslog/remote', 'syslog/remote/fallback' and 'syslog/remote/selector' have
   been added.
   Receiving must also be enabled explicitly. For this the new UCR variables
   'syslog/input/udp', 'syslog/input/tdp' and 'syslog/input/relp' have been
   added.
   Please note, that log messages are sent unencrypted and in clear text! It
   is recommended to use this only in protected networks, as passwords and
   other sensitive data might leak otherwise.

 * Several new UCR variables 'syslog/...' have been added to enable/disable
   logging of events of certain facilities to the corresponding targets:
    'syslog/auth' -> /var/log/auth.log
    'syslog/cron' -> /var/log/cron.log
    'syslog/kern' -> /var/log/kern.log
    'syslog/daemon' -> /var/log/daemon.log
    'syslog/user' -> /var/log/user.log
    'syslog/lpr' -> /var/log/lpr.log
    'syslog/mail' -> /var/log/mail.*
    'syslog/news' -> /var/log/news.*
    'syslog/syslog' -> /var/log/syslog (catch-all for all messages)
    'syslog/debug' -> /var/log/debug (only debug messages)
    'syslog/messages' -> /var/log/messages (all except debug and errors)
    'syslog/xconsole' -> /dev/xconsole (used by graphical console)

   The new UCR variable 'syslog/syslog/avoid_duplicate_messages' can be used
   to remove messages logged to other targets from '/var/log/syslog'.
   By default messages get logged multiple times.

   Further more the selector for certain files can now be customized through
   the following new UCR variables 'syslog/.../selector':
    'syslog' [*.*]
    'debug' [*.=debug;auth,authpriv,news,mail.none]
    'messages' [*.=info-warn;auth;authpriv;cron;daemon;mail;news.none]
    'xconsole' [daemon,mail.*;news.err;*.debug-warn]

 * The configuration for 'logrotate' has been extended to allow a file-by-file
   configuration through the UCR variables 'logrotate/$facility/...'. All
   remaining files are handles by 'logroate/syslog-other/...'.
bug: [15728,41815,41816]
