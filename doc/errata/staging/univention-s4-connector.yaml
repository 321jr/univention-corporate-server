product: ucs
release: "4.4"
version: [1]
scope: ucs_4.4-0-errata4.4-1
src: univention-s4-connector
fix: 13.0.2-35A~4.4.0.201908082318
desc: |
 This update addresses the following issue(s):
 * The script "remove_ucs_rejected.py" has been repaired.
   It has been broken via UCS 4.4 erratum 155.
 * Fixed decoding error if a container contains the character '?'
 * These additional attributes are now synchronized
   between UDM/OpenLDAP and Samba/AD
   unixhome, employeeType, employeeNumber, country,
   loginShell, title, gidNumber, uidNumber, departmentNumber,
   roomNumber, initials, physicalDeliveryOfficeName, postOfficeBox,
   preferredLanguage.
   The synchronization of user attributes can now be switched on
   and off via new ucr-variable
   connector/s4/mapping/user/attributes/ignorelist.
   For updates, the synchonization of these attributes is switched off.
   For new installations, the synchonization of these attributes
   is switched on.
 * Samba 4.9 no longer allows the removal of the dBCSPwd (LM hash) attribute.
   The S4 connector now respects this.
 * A reject is prevented when trying to add a group which is already
   removed in UCS.
 * Fixed access to undefined variable in the sync_krbgt script.
 * Unused code has been removed.
 * The file /etc/univention/connector/s4/localmapping.py is now included in
   mapping.py to allow adjusting the mapping dynamically. It may contain a
   python function mapping_hook(s4_mapping) which can return a modified
   mapping.
 * Stop adding an unlimited number of lock entries for the same object.
 * Fixed typo in log message
 * Avoid a traceback in case GPO deletes get synchronized to Samba/AD and
   the entryUUID of a subobject is unknown.
 * Fix a traceback observed in CI tests, where a computer object had already
   been purged in OpenLDAP and the connector tried to apply the echo operation
   for a prior modification in OpenLDAP.
bug:
 - 26501
 - 49865
 - 49092
 - 49905
 - 49850
 - 36633
 - 43068
 - 48410
 - 49459
 - 49918
 - 49956
 - 49959
