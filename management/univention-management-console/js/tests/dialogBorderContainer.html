<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link id="themeStyles" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dijit/themes/claro/claro.css" type="text/css"></link>
<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js"></script>
<script type="text/javascript">

// load necessary modules
dojo.require("dijit.layout.BorderContainer");
dojo.require("dijit.form.TextBox");
dojo.require("dijit.layout.ContentPane");
dojo.require("dojox.widget.Dialog");
dojo.require("dojox.layout.TableContainer");

dojo.addOnLoad(function() {
	dojo.declare('MyDialog', dojox.widget.Dialog, {
		buildRendering: function() {
			// call superclass' method
			this.inherited(arguments);

			console.log('postCreate');

			var form = new dojox.layout.TableContainer({
				cols: 1,
				orientation: 'horiz',
				region: 'center'
			});
			form.addChild(new dijit.form.TextBox({
				label: 'Username',
				name: 'username'
			}));
			form.addChild(new dijit.form.TextBox({
				label: 'Password',
				name: 'password',
				type: 'password'
			}));
			
			var layout = new dijit.layout.BorderContainer({
				style: 'width: 100%; height: 100%'
			});
			layout.addChild(new dijit.layout.ContentPane({
				content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc scelerisque malesuada dolor eu vehicula. Nunc tempus lacinia mauris, eu semper orci vestibulum a. Mauris non lectus turpis. Pellentesque volutpat euismod lorem, id auctor massa imperdiet eu. Cras quis nisi nisi.',
				region: 'top'
			}));
			layout.addChild(form);
			
			// startup layout
			dojo.connect(layout, 'startup', function() {
				console.log('layout.startup()');
			});
			dojo.connect(form, 'startup', function() {
				console.log('form.startup()');
			});
			//layout.startup();

			// place node
			//layout.placeAt(this.containerNode);
			this.set('content', layout);

		},

		startup: function() {
			this.inherited(arguments);
			//this._layout.startup();
		},

		postCreate: function() {
			this.inherited(arguments);
		}
	});

	dialog = new MyDialog({});
	dialog.startup();
	dialog.show();
});

</script>
</head>
<body class="claro">
</body>
</html>
