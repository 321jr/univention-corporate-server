<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Univention Management Console</title>
		<link rel="icon" href="images/favicon.ico" type="image/x-icon">
		<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
		<style type="text/css">
			@import url("js%HASH%/dojo/resources/dojo.css");
			@import url("css%HASH%/dijit/themes/umc/umc.css");
			@import url("css%HASH%/dojox/grid/resources/Grid.css");
			@import url("css%HASH%/dojox/grid/resources/umcGrid.css");
			@import url("css%HASH%/dojox/grid/enhanced/resources/EnhancedGrid.css");
			@import url("css%HASH%/dojox/grid/enhanced/resources/umc/EnhancedGrid.css");
			@import url("css%HASH%/dojox/form/resources/CheckedMultiSelect.css");
			@import url("css%HASH%/dojox/widget/Dialog/Dialog.css");
			@import url("css%HASH%/dojox/widget/Standby/Standby.css");
			@import url("css%HASH%/dojox/widget/Toaster/Toaster.css");
		</style>
		<script type="text/javascript">
			function getQuery(/*String*/ param, /*mixed*/ defaultVal) {
				// parse the URI query string
				var query = window.location.search.substring(1);
				var vars = query.split('&');
				for (var i = 0; i < vars.length; i++) {
					// parse the tuple
					var tuple = vars[i].split('=');

					// check whether we found the particular parameter we are interested in
					if (2 == tuple.length && param == tuple[0]) {
						return tuple[1];
					}
				}

				// otherwise return the specified default value
				return defaultVal;
			}

			function getCookie(/*String*/ param, /*mixed*/ defaultVal) {
				// find the given parameter in the cookie string
				var reg = new RegExp(param + '=([a-zA-Z_-]*)');
				var m = reg.exec(document.cookie);
				if (m && m[1]) {
					return m[1];
				}

				// in case the parameter does not exist, return the default value
				return defaultVal;
			}

			var dojoConfig = {
				isDebug: false,
				debugAtAllCosts: false,
				locale: getQuery('lang') || getCookie('UMCLang')
			};
		</script>
		<script type="text/javascript" src="js%HASH%/dojo/dojo.js%JSSUFFIX%"></script>
		<script type="text/javascript" src="js%HASH%/umc/build.js%JSSUFFIX%"></script>
		<script type="text/javascript">
			dojo.require("umc.app");

			// start the application when everything has been loaded
			dojo.addOnLoad(function() {
				umc.app.start({
					username: getQuery('username'), 
					password: getQuery('password'),
					module: getQuery('module'),
					flavor: getQuery('flavor'),
					overview: getQuery('overview', true),
					width: getQuery('width'),
					displayUsername: getQuery('displayUsername', true)
				});
			});
		</script>
		<link rel="stylesheet" href="css%HASH%/style.css"></link>
	</head>
	<body class="umc">
	<div id="header" class="umcHeader" style="position: absolute; left: 0px; right: 0px;"></div>
	</body>
</html>
