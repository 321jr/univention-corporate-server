@!@
import re
sender_canonical_maps = []
val = re.split('[, ]+', configRegistry.get('mail/maps/canonical/sender/enable',''))
if 'file' in val:
	sender_canonical_maps.append('hash:/etc/postfix/canonical_sender')
if 'ldap' in val:
	sender_canonical_maps.append('ldap:ldapcanonicalsender')
if sender_canonical_maps:
	val_classes = [ x for x in re.split('[, ]+', configRegistry.get('mail/maps/canonical/sender/classes','')) if x ]
	if val_classes:
		print 'sender_canonical_classes = %s' % ', '.join(val_classes)
	print 'sender_canonical_maps = %s' % ', '.join(sender_canonical_maps)

recipient_canonical_maps = []
val = re.split('[, ]+', configRegistry.get('mail/maps/canonical/recipient/enable',''))
if 'file' in val:
	recipient_canonical_maps.append('hash:/etc/postfix/canonical_recipient')
if 'ldap' in val:
	recipient_canonical_maps.append('ldap:ldapcanonicalrecipient')
if recipient_canonical_maps:
	val_classes = [ x for x in re.split('[, ]+', configRegistry.get('mail/maps/canonical/recipient/classes','')) if x ]
	if val_classes:
		print 'recipient_canonical_classes = %s' % ', '.join(val_classes)
	print 'recipient_canonical_maps = %s' % ', '.join(recipient_canonical_maps)

default_virtual_maps = 'hash:/etc/postfix/virtual, ldap:/etc/postfix/ldap.groups, ldap:/etc/postfix/ldap.distlist, ldap:/etc/postfix/ldap.sharedfolderremote, ldap:/etc/postfix/ldap.sharedfolderlocal, ldap:/etc/postfix/ldap.virtual'
virtual_maps = re.split(',\s*',	configRegistry.get('mail/postfix/maps/virtual', default_virtual_maps ))
if 'ldap' in val:
	virtual_maps.append('ldap:/etc/postfix/ldap.virtualwithcanonical')
print 'virtual_maps = %s' % ', '.join(virtual_maps)
@!@

canonical_maps = hash:/etc/postfix/canonical
relocated_maps = hash:/etc/postfix/relocated

alias_maps = hash:/etc/aliases
alias_database = hash:/etc/aliases

local_recipient_maps = $virtual_maps
