
#
# LDAP mail2sharedfolder support
# find mail address for shared imap folders and do not rewrite recipient address if kolabHomeServer is NOT $myhostname
#

ldapsharedfolderremote_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapsharedfolderremote_search_base = @%@ldap/base@%@
ldapsharedfolderremote_query_filter = (&(objectClass=univentionKolabSharedFolder)(|(mailPrimaryAddress=%s)(mailAlternativeAddress=%s))(!(kolabHomeServer=$myhostname)))
ldapsharedfolderremote_result_attribute = mailPrimaryAddress
ldapsharedfolderremote_result_filter = %s
ldapsharedfolderremote_search_timeout = 15
ldapsharedfolderremote_scope = sub
ldapsharedfolderremote_version = 3

#
# LDAP mail2sharedfolder support
# rewrite mail address for shared imap folders if kolabHomeServer is $myhostname
#

ldapsharedfolderlocal_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapsharedfolderlocal_search_base = @%@ldap/base@%@
ldapsharedfolderlocal_query_filter = (&(objectClass=univentionKolabSharedFolder)(|(mailPrimaryAddress=%s)(mailAlternativeAddress=%s))(kolabHomeServer=$myhostname))
ldapsharedfolderlocal_result_attribute = univentionKolabSharedFolderDeliveryAddress
ldapsharedfolderlocal_result_filter = %s
ldapsharedfolderlocal_search_timeout = 15
ldapsharedfolderlocal_scope = sub
ldapsharedfolderlocal_version = 3

#
# LDAP Alias support (without recipient canonical rewrite)
#

ldapvirtual_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapvirtual_search_base = @%@ldap/base@%@
ldapvirtual_query_filter = (&(objectClass=univentionMail)(|(mailAlternativeAddress=%s)(mailPrimaryAddress=%s)(uid=%s))(!(univentionCanonicalRecipientRewriteEnabled=1)))
ldapvirtual_result_attribute = mailPrimaryAddress
ldapvirtual_result_filter = %s
#ldapvirtual_search_timeout = 15
ldapvirtual_scope = sub
#ldapvirtual_bind = yes
#ldapvirtual_bind_dn = cn=nobody,cn=internal,dc=haus,dc=org
#ldapvirtual_bind_pw = MC/QfteBBLgUGGm3GDq/BJm31R8WRElCMitO/AJZ
ldapvirtual_version = 3

#
# LDAP Alias support (with recipient canonical rewrite)
#

ldapvirtualwithcanonical_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapvirtualwithcanonical_search_base = @%@ldap/base@%@
ldapvirtualwithcanonical_query_filter = (&(objectClass=univentionMail)(|(mailAlternativeAddress=%s)(mailPrimaryAddress=%s)(uid=%s))(univentionCanonicalRecipientRewriteEnabled=1))
ldapvirtualwithcanonical_result_attribute = univentionInternalPrimaryMailAddress
ldapvirtualwithcanonical_result_filter = %s
#ldapvirtualwithcanonical_search_timeout = 15
ldapvirtualwithcanonical_scope = sub
#ldapvirtualwithcanonical_bind = yes
#ldapvirtualwithcanonical_bind_dn = cn=nobody,cn=internal,dc=haus,dc=org
#ldapvirtualwithcanonical_bind_pw = MC/QfteBBLgUGGm3GDq/BJm31R8WRElCMitO/AJZ
ldapvirtualwithcanonical_version = 3

#
# LDAP Mail Groups
#

ldapgroups_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapgroups_search_base = @%@ldap/base@%@
ldapgroups_query_filter = (&(mailPrimaryAddress=%s)(objectclass=posixGroup))
ldapgroups_result_attribute = uid
ldapgroups_special_result_attribute = uniqueMember
ldapgroups_scope = sub
ldapgroups_version = 3


#
# LDAP Distributionlist support
#

ldapdistlist_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapdistlist_search_base = @%@ldap/base@%@
ldapdistlist_domain = $mydestination
ldapdistlist_query_filter = (&(objectClass=univentionKolabGroup)(mailPrimaryAddress=%s))
#ldapdistlist_special_result_attribute = univentionKolabMember
#ldapdistlist_exclude_internal = yes
ldapdistlist_result_attribute = univentionKolabMember
#ldapdistlist_result_filter = %s
ldapdistlist_search_timeout = 15
ldapdistlist_scope = sub
#ldapdistlist_bind = yes
#ldapdistlist_bind_dn = cn=nobody,cn=internal,dc=haus,dc=org
#ldapdistlist_bind_pw = MC/QfteBBLgUGGm3GDq/BJm31R8WRElCMitO/AJZ
ldapdistlist_version = 3

#
# LDAP Transport for multilocation support
# if mail shall not be delivered locally then send it to kolabHomeServer
#

ldaptransport_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldaptransport_search_base = @%@ldap/base@%@
ldaptransport_query_filter = (&(mailPrimaryAddress=%s)(|(objectClass=kolabInetOrgPerson)(objectClass=univentionKolabSharedFolder))(!(kolabHomeServer=$myhostname)))
ldaptransport_result_attribute = kolabHomeServer
ldaptransport_result_filter = smtp:[%s]
ldaptransport_search_timeout = 15
ldaptransport_scope = sub
#ldaptransport_bind = yes
#ldaptransport_bind_dn = cn=nobody,cn=internal,dc=haus,dc=org
#ldaptransport_bind_pw = MC/QfteBBLgUGGm3GDq/BJm31R8WRElCMitO/AJZ
ldaptransport_version = 3

#
# LDAP Transport for multilocation support
#

ldaphomeservertransport_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldaphomeservertransport_search_base = @%@ldap/base@%@
ldaphomeservertransport_query_filter = (&(|(mailPrimaryAddress=%s)(mailAlternativeAddress=%s))(!(objectClass=kolabInetOrgPerson))(!(kolabHomeServer=*)))
ldaphomeservertransport_result_attribute = univentionMailHomeServer
ldaphomeservertransport_result_filter = smtp:[%s]
ldaphomeservertransport_search_timeout = 15
ldaphomeservertransport_scope = sub
ldaphomeservertransport_version = 3

#
# LDAP Sender Canonical Maps support
#

ldapcanonicalsender_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapcanonicalsender_search_base = @%@ldap/base@%@
ldapcanonicalsender_query_filter = (&(univentionCanonicalSenderRewriteEnabled=1)(|(univentionInternalPrimaryMailAddress=%s)(univentionInternalAlternativeMailAddress=%s)))
ldapcanonicalsender_result_attribute = univentionPublicPrimaryMailAddress
ldapcanonicalsender_search_timeout = 15
ldapcanonicalsender_scope = sub
ldapcanonicalsender_version = 3

#
# LDAP Recipient Canonical Maps support
#

ldapcanonicalrecipient_server_host = ldap://@%@ldap/server/name@%@:@%@ldap/port@%@
ldapcanonicalrecipient_search_base = @%@ldap/base@%@
ldapcanonicalrecipient_query_filter = (&(univentionCanonicalRecipientRewriteEnabled=1)(|(univentionPublicPrimaryMailAddress=%s)(univentionPublicAlternativeMailAddress=%s)))
ldapcanonicalrecipient_result_attribute = univentionInternalPrimaryMailAddress
ldapcanonicalrecipient_search_timeout = 15
ldapcanonicalrecipient_scope = sub
ldapcanonicalrecipient_version = 3

