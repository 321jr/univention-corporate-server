@%@UCRWARNING=#@%@

# Filter Groups List file for DansGuardian
#
# Format is <user>=filter<1-9> where 1-9 are the groups
#
# Eg:
# daniel=filter2
#
# This file is only of use if you have more than 1 filter group
#

@!@
groups = configRegistry.get('dansguardian/groups', 'defaultgroup').split(';')

if configRegistry.is_true('dansguardian/groups/system', True):
	for grp in groups:
		print grp
else:
	BEGIN = 'dansguardian/groups/'
	END = '/members'
	for key, value in configRegistry.iteritems():
		if key.startswith(BEGIN) and key.endswith(END):
			group = key[len(BEGIN):-len(END)]
			fgroup = 'filter%d' % (groups.index(group) + 1,)
			for member in value.split(','):
				print '%s=%s' % (member, fgroup)
@!@
